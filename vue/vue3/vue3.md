# 为什么要重写
1.主流浏览器对新的javascript语言特性的普遍支持
2.当前vue代码库随着时间的推移而暴露出来的设计和体系架构问题

# vue3相较于2做的优化
1.重写VDOM机制，通过编译时的标记优化运行时的速度
2.优化插槽（slot）生成，原来的实现，父组件重渲染时子组件也必须同步渲染，而在3中子组件提取函数，可以分别渲染。
3.静态树提升，没有响应式绑定的部分被提取出来作为常亮，用到的时候不用再次执行渲染函数
4.静态属性提升：没有响应式绑定的组件属性被提取出来作为常亮，用到的时候不用进行创建。
5.项目结构优化：内部解耦，更好维护，支持了细粒度的tree-shaking如可选的声明周期

# 3.Object.defineProperty与Proxy
1.Object.defineProperty 改变原始数据，Proxy是创建对象的虚拟表示，并提供set，get和delete
2.可以坚挺到数组属性的增加和删除
3.可以坚挺到length和index取值
4.支持Map，set，weakMap和WeakSet

## proxy的原理
get收集依赖
set delete等触发依赖、
对于集合依赖，
